# 34 Linux Exploitation

# Exploiting a Vulnerable FTP Server

- FTP (File Transfer Protocol) is a protocol that used TCP port 21 and is used to facilitate file sharing between a server and client or clients
- It is also frequently used as a means of transferring file to and from the directory of a web server
- vsftpd is an FTP server for Unix-like systems including Linux systems and is the default FTP server for Ubuntu, CentOS and Fedora
- vsftpd V2.3.4 is a vulnerable to a command execution vulnerability that is facilitated by a malicious backdoor that was added to the vsftpd download archive through a supply chain attack

### DEMO 

```shell
msf6: exploit(unix/ftp/vsftpd_234_backdoor)
/bin/bash -i # Spwn a bash
[CNTL + Z] # Background session
msf6: post(multi/manage/shell_to_meterpreter) # Post(exploitation) module
```


# Exploiting Samba

- SMB (Server Message Block) is a network file sharing protocol that is used to facilitate the sharing of files and peripherals between computer on a local network (LAN)
- SMB uses port 445 (TCP). However, originally, SMB ran on top of NetBIOS using port 139
- Samba is the Linux implementation of SMB, and allows Windows systems to access Linux shares and devices
- Samba V3.5.0 is vulnerable to a remote code execution vulnerability, allowing a malicious client to upload a shared library to a writable share, and then cause the server to load and execute it

### DEMO 

```shell
msf6: exploit(linux/samba/is_known_pipename)
msf6: check # Check if exploitable
[CTRL + Z] # Background session
msf6: post(multi/manage/shell_to_meterpreter)
```


#  Exploiting a Vulnerable SSH Server

- SSH (Secure Shell) is a remote administration protocol that offers encryption and is the successor to Telnet
- It is typically used for remote access to servers and systems
- SSH uses TCP port 22 by default, however, like other services, it can be configured to use any other open TCP port
- libssh is a multiplatform C library implementing the SSHv2 protocol on client and server side
- libssh V0.6.0-0.8.0 is vulnerable to an authentication bypass vulnerability in the libssh server code that can be exploited to execute commands on the target server

### DEMO 

```shell
msf6: auxiliary(scanner/ssh/libssh_auth_bypass)
[CTRL + Z] # Background session
msf6: post(multi/manage/shell_to_meterpreter)
```


# Exploiting a Vulnerable SMTP Server

- SMTP (Simple Mail Transfer Protocol) is a communication protocol that is used for the transmission of email
- SMTP uses TCP port 25 by default. It can also be configured to run on TCP port 465 and 587
- Haraka is an open source high performance SMTP server developed in Node.js
- The Haraka SMTP server comes with a plugin for processing attachments. Haraka versions prior to V2.8.9 are vulnerable to command injection

### DEMO 

```shell
msf6: exploit(linux/smtp/haraka)
msf6: set srvport <port>
msf6: set email_to example@mail.to
```

#eJPT #cybersecurity 